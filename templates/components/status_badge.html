{% comment %}
Status Badge Component - Consistent status display across the app

Usage:
  {% include 'components/status_badge.html' with status=item.status display=item.get_status_display %}
  {% include 'components/status_badge.html' with status='completed' display='Completed' size='sm' %}

Parameters:
  - status: The status value (e.g., 'completed', 'pending', 'failed')
  - display: The display text (e.g., 'Completed', 'Pending', 'Failed')
  - size: Optional size variant ('sm', 'md', 'lg') - defaults to 'md'

Color mapping:
  - Green: completed, closed_won, granted, reviewed, success, active
  - Red: failed, closed_denied, denied, error, cancelled
  - Blue: processing, analyzing, submitted, in_review, evidence_complete, pending_decision
  - Yellow: pending, action_needed, gathering, gathering_evidence, deciding, on_hold
  - Purple: appealing, appeal_in_progress
  - Gray: default/unknown
{% endcomment %}

{% with size=size|default:'md' %}
<span class="inline-block rounded-full font-medium
    {# Size variants #}
    {% if size == 'sm' %}px-2 py-0.5 text-xs
    {% elif size == 'lg' %}px-4 py-2 text-sm
    {% else %}px-3 py-1 text-sm{% endif %}
    {# Color variants based on status #}
    {% if status == 'completed' or status == 'closed_won' or status == 'granted' or status == 'reviewed' or status == 'success' or status == 'active' %}
        bg-green-100 text-green-800
    {% elif status == 'failed' or status == 'closed_denied' or status == 'denied' or status == 'error' or status == 'cancelled' or status == 'closed_withdrawn' %}
        bg-red-100 text-red-800
    {% elif status == 'processing' or status == 'analyzing' or status == 'submitted' or status == 'in_review' or status == 'evidence_complete' or status == 'pending_decision' or status == 'claim_filed' %}
        bg-blue-100 text-blue-800
    {% elif status == 'pending' or status == 'action_needed' or status == 'gathering' or status == 'gathering_evidence' or status == 'deciding' or status == 'on_hold' or status == 'intake' or status == 'identified' or status == 'decision_received' %}
        bg-yellow-100 text-yellow-800
    {% elif status == 'appealing' or status == 'appeal_in_progress' %}
        bg-purple-100 text-purple-800
    {% else %}
        bg-gray-100 text-gray-800
    {% endif %}
">{{ display }}</span>
{% endwith %}
