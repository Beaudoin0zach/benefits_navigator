{% if conditions %}
<div class="space-y-4">
    {% for condition in conditions %}
    <div class="p-4 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors">
        <div class="flex items-start justify-between">
            <div>
                <span class="inline-block px-2 py-0.5 text-xs font-medium rounded-full mb-2
                    {% if condition.category == 'Mental Health' %}bg-purple-100 text-purple-800
                    {% elif condition.category == 'Neurological' %}bg-blue-100 text-blue-800
                    {% elif condition.category == 'Musculoskeletal' %}bg-orange-100 text-orange-800
                    {% elif condition.category == 'Cardiovascular' %}bg-red-100 text-red-800
                    {% elif condition.category == 'Respiratory' %}bg-teal-100 text-teal-800
                    {% elif condition.category == 'Endocrine' %}bg-yellow-100 text-yellow-800
                    {% else %}bg-gray-100 text-gray-800{% endif %}">
                    {{ condition.category }}
                </span>
                <h4 class="font-bold text-gray-900">{{ condition.condition }}</h4>
                <p class="text-sm text-gray-600 mt-1">{{ condition.secondary_conditions|length }} secondary conditions</p>
            </div>
            <a href="{% url 'examprep:secondary_condition_detail' condition_slug=condition.condition|slugify %}"
               class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                View &rarr;
            </a>
        </div>

        {% if condition.matching_secondaries %}
        <div class="mt-3 pt-3 border-t border-gray-100">
            <p class="text-xs text-gray-500 mb-2">Matching secondary conditions:</p>
            <div class="flex flex-wrap gap-1">
                {% for secondary in condition.matching_secondaries %}
                <span class="inline-block px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs rounded">
                    {{ secondary.condition }}
                </span>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% else %}
<div class="text-center py-8 text-gray-500">
    <p>No conditions found matching "{{ query }}"</p>
</div>
{% endif %}
